machine:
  environment:
    ANDROID_HOME: /home/ubuntu/android
    ANDROID_NDK_HOME: /home/ubuntu/android/android-ndk
    ANDROID_SDK_CDN: https://dl.google.com/android
    ANDROID_SDK_FILE: android-sdk_r24.0.2-linux.tgz
    ANDROID_NDK_CDN: http://dl.google.com/android/ndk
    ANDROID_NDK_FILE: android-ndk-r10d-linux-x86_64.bin
    CMAKE_FILE: ../Toolchain/arm-eabi.cmake
dependencies:
  cache_directories:
    - ~/.android
    - ~/android
    - "~/assets/"
  pre:
    - "[ -d ~/assets ] || mkdir ~/assets"
    - "[ -d ~/android ] || mkdir ~/android"
    - wget -c -O ~/assets/cov-analysis-linux64-7.6.0.tar.gz http://sd-55475.dedibox.fr/cov-analysis-linux64-7.6.0.tar.gz
    - sudo apt-get install cmake
    - sudo apt-get install libpng12-dev 
    - sudo apt-get install libgtk2.0-dev 
    - sudo apt-get install librsvg2-bin 
    - sudo apt-get install libfreetype6-dev
    - sudo apt-get install libdbus-glib-1-dev
    - sudo apt-get install g++
    - sudo apt-get install autopoint
    - bash ci/build_tomtom.sh
# For python testing with junit reporting
    - sudo pip install junit-xml
